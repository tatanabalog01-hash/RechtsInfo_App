<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Heidt & Robers | RechtsInfo</title>
    
    <!-- PWA Manifest –¥–ª—è Android -->
    <link rel="manifest" href="manifest.json">
    
    <!-- –ò–ö–û–ù–ö–ê –î–õ–Ø IPHONE (iOS) - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ! -->
    <link rel="apple-touch-icon" href="logo-hr.jpg">
    
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è iOS (—á—Ç–æ–±—ã –≤—ã–≥–ª—è–¥–µ–ª–æ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="RechtsInfo">
    
    <!-- –¶–≤–µ—Ç —Ç–µ–º—ã –¥–ª—è Android -->
    <meta name="theme-color" content="#071423">
    
    <style>
        :root {
            --arag-yellow: #FFD700;
            --arag-dark: #333333;
            --deep-blue: #071423;
            --card-bg: #0f1f33;
            --text-white: #ffffff;
            --text-grey: #a0a0a0;
            --whatsapp-green: #25D366;
        }

        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--deep-blue);
            color: var(--text-white);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è iOS "—Ä–µ–∑–∏–Ω–∫–∏" */
            overscroll-behavior-y: none;
        }

        .hidden { display: none !important; }
        
        .btn-primary {
            background-color: var(--arag-yellow);
            color: black;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 16px;
            width: 100%;
            cursor: pointer;
            text-transform: uppercase;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            transition: transform 0.1s;
            margin-top: 10px;
        }
        .btn-primary:active { transform: scale(0.98); }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--arag-yellow);
            color: var(--arag-yellow);
            padding: 12px;
            border-radius: 8px;
            width: 100%;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
        }

        header {
            background: linear-gradient(180deg, rgba(7,20,35,1) 0%, rgba(15,31,51,1) 100%);
            padding: 10px 15px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 20;
            height: 75px;
            padding-top: env(safe-area-inset-top); /* –£—á–µ—Ç —á–µ–ª–∫–∏ iPhone */
        }

        .back-btn {
            position: absolute;
            left: 10px;
            background: none;
            border: none;
            color: var(--arag-yellow);
            font-size: 28px;
            cursor: pointer;
            padding: 0 10px;
            top: 50%;
            transform: translateY(-50%);
            margin-top: calc(env(safe-area-inset-top) / 2);
        }

        .brand-container { display: flex; align-items: center; gap: 10px; }

        .logo-img {
            width: 45px; height: 45px; object-fit: contain; border-radius: 50%;
            background: white; border: 2px solid var(--arag-yellow);
        }
        
        .logo-circle-css {
            width: 45px; height: 45px; background-color: var(--arag-yellow);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-weight: 900; color: black; font-size: 14px; border: 2px solid white;
        }

        .brand-text-col { display: flex; flex-direction: column; }
        .brand-name { font-size: 18px; font-weight: 800; text-transform: uppercase; color: white; line-height: 1; }
        .brand-slogan { font-size: 11px; color: rgba(255, 255, 255, 0.8); font-weight: 400; margin-top: 3px; letter-spacing: 0.5px; font-style: italic; }

        .screen {
            flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column;
            animation: fadeIn 0.4s ease-in-out; padding-bottom: 80px; /* –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ —Å–Ω–∏–∑—É */
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- –Ø–ó–´–ö --- */
        .lang-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: auto 0; }
        .lang-card { 
            background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 12px; padding: 40px 10px; text-align: center; cursor: pointer; 
            font-size: 18px; font-weight: bold; color: var(--arag-yellow);
            transition: transform 0.1s;
        }
        .lang-card:active { transform: scale(0.98); border-color: var(--arag-yellow); }

        .zig-card {
            background-color: var(--card-bg); border: 1px solid var(--arag-yellow);
            border-radius: 12px; padding: 15px; margin-bottom: 15px;
            display: flex; align-items: center; gap: 15px; text-align: left;
        }
        .zig-card.reverse { flex-direction: row-reverse; text-align: right; }
        
        .card-visual { font-size: 30px; min-width: 50px; text-align: center; display: flex; justify-content: center; align-items: center; }
        .card-text h4 { margin: 0 0 4px 0; font-size: 15px; color: var(--arag-yellow); font-weight: bold; }
        .card-text p { margin: 0; font-size: 12px; color: #d0d0d0; line-height: 1.4; }
        
        .btn-wa-card {
            background: var(--whatsapp-green); color: white; border: none; border-radius: 4px;
            padding: 8px 14px; font-size: 12px; font-weight: bold; margin-top: 10px;
            cursor: pointer; display: inline-flex; align-items: center; gap: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .cat-header {
            color: var(--text-white); font-size: 18px; font-weight: bold; margin-top: 25px;
            margin-bottom: 15px; border-bottom: 1px solid rgba(255,215,0,0.3); padding-bottom: 5px;
        }
        .cat-header:first-child { margin-top: 0; }

        .form-input { width: 100%; padding: 12px; background: #0b1825; border: 1px solid #333; border-radius: 8px; color: white; font-size: 16px; margin-bottom: 15px; }
        
        .top-menu-bar {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;
            padding: 10px 15px; background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.05); flex-shrink: 0; overflow-x: auto;
        }
        .top-menu-btn {
            background: #1a2a3f; border: 1px solid rgba(255,215,0,0.3); border-radius: 6px;
            padding: 8px 2px; color: white; font-size: 9px; text-align: center;
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            cursor: pointer; min-width: 60px;
        }
        .top-menu-btn i { font-size: 16px; font-style: normal; }

        .chat-area { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 12px; }
        
        .bot-msg-row { display: flex; gap: 10px; align-items: flex-end; align-self: flex-start; max-width: 95%; margin-bottom: 12px; }
        .bot-avatar {
            width: 35px; height: 35px; border-radius: 50%; object-fit: cover;
            border: 1px solid var(--arag-yellow); flex-shrink: 0; background-color: var(--card-bg);
        }

        .msg { padding: 12px 16px; font-size: 14px; line-height: 1.4; position: relative; }
        .msg.bot { 
            background: #1a2a3f; border-left: 3px solid var(--arag-yellow); 
            border-top-left-radius: 12px; border-top-right-radius: 12px;
            border-bottom-right-radius: 12px; border-bottom-left-radius: 2px;
            margin-bottom: 0;
        }
        .msg.user { 
            background: #005f56; align-self: flex-end; 
            border-top-left-radius: 12px; border-top-right-radius: 12px;
            border-bottom-left-radius: 12px; border-bottom-right-radius: 2px; 
            color: white; max-width: 85%; margin-bottom: 12px;
        }
        .file-msg { font-style: italic; color: var(--arag-yellow); display: flex; align-items: center; gap: 5px;}

        .chat-footer { background: #0b1825; padding: 10px; border-top: 1px solid #333; flex-shrink: 0; padding-bottom: max(10px, env(safe-area-inset-bottom)); }
        .input-wrapper { display: flex; align-items: center; gap: 8px; background: #071423; border: 1px solid #333; border-radius: 25px; padding: 5px 10px; }
        .icon-btn { background: none; border: none; font-size: 20px; color: #888; cursor: pointer; padding: 5px; }
        .icon-btn.recording { color: #ff4444; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        .chat-input { flex: 1; background: transparent; border: none; color: white; font-size: 14px; padding: 8px; }
        .send-circle { width: 36px; height: 36px; background: var(--arag-yellow); border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; cursor: pointer; color: black; font-weight: bold; }

        .my-docs-btn {
            background: #1f2e42; border: 1px dashed #555; color: #ccc; width: 100%;
            margin-top: 10px; padding: 12px; border-radius: 8px; display: flex;
            align-items: center; justify-content: center; gap: 8px; font-size: 13px; cursor: pointer;
        }

        .info-section { background: #0f1f33; padding: 15px; border-radius: 8px; border: 1px solid #333; margin-bottom: 15px; }
        .info-label { color: var(--arag-yellow); font-weight: bold; margin-bottom: 8px; font-size: 14px; text-transform: uppercase; border-bottom: 1px solid rgba(255,215,0,0.3); padding-bottom: 5px; }
        .info-content { font-size: 13px; line-height: 1.5; color: #ccc; white-space: pre-wrap; }

        .promo-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 1000; display: flex; align-items: center; justify-content: center;
            padding: 20px; animation: fadeIn 0.5s;
        }
        .promo-card {
            background: #0f1f33; border: 2px solid var(--arag-yellow); border-radius: 15px;
            padding: 25px; text-align: center; max-width: 350px; width: 100%;
            position: relative; box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }
        .promo-img { font-size: 50px; margin-bottom: 15px; }
        .promo-title { font-size: 20px; color: var(--arag-yellow); margin-bottom: 10px; font-weight: bold; }
        .promo-text { font-size: 14px; color: #ddd; margin-bottom: 20px; line-height: 1.5; }
        .promo-close { position: absolute; top: 10px; right: 10px; background: none; border: none; color: #666; font-size: 20px; cursor: pointer; }

        /* DOCS SCREEN */
        .doc-section { margin-bottom: 30px; }
        .doc-header { color: var(--arag-yellow); font-size: 14px; text-transform: uppercase; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        .doc-item { display: flex; align-items: center; gap: 10px; background: #1a2a3f; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid rgba(255,255,255,0.05); }
        .doc-icon { font-size: 20px; }
        .doc-name { font-size: 14px; color: white; flex: 1; }
        .add-doc-btn { background: #2b3e50; border: 1px dashed var(--arag-yellow); color: white; width: 100%; padding: 15px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; font-weight: bold; }

    </style>
</head>
<body>

    <!-- –°–ö–†–´–¢–´–ô INPUT –î–õ–Ø –§–ê–ô–õ–û–í -->
    <input type="file" id="hidden-file-input" style="display: none;" onchange="handleFileSelect(this)">

    <!-- –ü–†–û–ú–û -->
    <div id="promo-modal" class="promo-overlay hidden">
        <div class="promo-card">
            <button class="promo-close" onclick="closePromo()">‚úï</button>
            <div class="promo-img">üéÅ</div>
            <div class="promo-title"></div>
            <div class="promo-text"></div>
            <button class="btn-primary" id="promo-btn-1" onclick="promoAction()"></button>
            <button class="btn-secondary" id="promo-btn-2" onclick="closePromo()"></button>
        </div>
    </div>

    <!-- –®–ê–ü–ö–ê -->
    <header>
        <button id="back-btn" class="back-btn hidden" onclick="goBack()">‚Äπ</button>
        <div class="brand-container">
            <img src="logo-hr.jpg" alt="Logo" class="logo-img" onerror="this.style.display='none'; document.getElementById('css-logo').style.display='flex'">
            <div id="css-logo" class="logo-circle-css" style="display:none;">ARAG</div>
            <div class="brand-text-col">
                <span class="brand-name">HEIDT & ROBERS</span>
                <span class="brand-slogan">Ihre Sicherheit bei jeder Entscheidung</span>
            </div>
        </div>
    </header>

    <!-- 1. –Ø–ó–´–ö -->
    <div id="screen-language" class="screen">
        <h2 style="text-align:center; color: var(--arag-yellow); margin-top:40px;">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ / Sprache w√§hlen</h2>
        <div class="lang-grid">
            <div class="lang-card" onclick="setLang('ru')">–†—É—Å—Å–∫–∏–π</div>
            <div class="lang-card" onclick="setLang('de')">Deutsch</div>
        </div>
    </div>

    <!-- 2. –°–û–ì–õ–ê–°–ò–ï -->
    <div id="screen-consent" class="screen hidden">
        <h2 id="consent-header" style="text-align:center; color: var(--arag-yellow); font-size:18px;"></h2>
        <div id="consent-list" style="margin-top:20px;"></div>
        <p id="consent-footer" style="text-align:center; font-size:11px; color:#666; margin-top:20px;"></p>
        <button id="btn-consent-ok" class="btn-primary" onclick="goReg()"></button>
    </div>

    <!-- 3. –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø -->
    <div id="screen-reg" class="screen hidden">
        <h2 id="reg-header" style="text-align:center; color: var(--arag-yellow);"></h2>
        <input type="text" id="inp-surname" class="form-input" placeholder="Nachname / –§–∞–º–∏–ª–∏—è">
        <input type="text" id="inp-name" class="form-input" placeholder="Vorname / –ò–º—è">
        <input type="email" id="inp-email" class="form-input" placeholder="Email (name@example.com)">
        <div style="position:relative;">
            <!-- –í–ê–ñ–ù–û: type="tel" –∏ autocomplete="tel" –ø–æ–∑–≤–æ–ª—è—é—Ç —Ç–µ–ª–µ—Ñ–æ–Ω—É –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–º–µ—Ä -->
            <input type="tel" id="inp-phone" class="form-input" placeholder="Telefon (+49...)" autocomplete="tel">
        </div>
        
        <button id="btn-reg-go" class="btn-primary" onclick="finishReg()">OK</button>
    </div>

    <!-- 4. –ß–ê–¢ -->
    <div id="screen-chat" class="screen hidden" style="padding:0; overflow:hidden;">
        <div class="top-menu-bar">
            <div class="top-menu-btn" onclick="showInsurances()"><i>üõ°Ô∏è</i> <span id="menu-ins">–°—Ç—Ä–∞—Ö–æ–≤–∫–∞</span></div>
            <div class="top-menu-btn" onclick="waAgent()"><i>üí¨</i> <span id="menu-wa">–°–≤—è–∑–∞—Ç—å—Å—è</span></div>
            <div class="top-menu-btn" onclick="showInfo()"><i>üìÑ</i> <span id="menu-info">–£—Å–ª–æ–≤–∏—è</span></div>
            <div class="top-menu-btn" onclick="showPartners()"><i>ü§ù</i> <span id="menu-partners">–ü–∞—Ä—Ç–Ω–µ—Ä—ã</span></div>
        </div>

        <div class="chat-area" id="chat-box"></div>

        <div class="chat-footer">
            <div class="input-wrapper">
                <button class="icon-btn" onclick="attachFile()">üìé</button>
                <input type="text" id="chat-inp" class="chat-input" placeholder="...">
                <button class="icon-btn" id="mic-btn" onclick="voiceInput()">üé§</button>
                <button class="send-circle" onclick="sendMsg()">‚û§</button>
            </div>
            <button class="my-docs-btn" onclick="showDocs()">
                üìÇ <span id="btn-docs">–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</span>
            </button>
        </div>
    </div>

    <!-- 5. –°–¢–†–ê–•–û–í–ö–ò -->
    <div id="screen-ins" class="screen hidden">
        <h2 id="ins-head" style="text-align:center; color:var(--arag-yellow);"></h2>
        <div id="ins-list"></div>
    </div>

    <!-- 6. –ò–ù–§–û -->
    <div id="screen-info" class="screen hidden">
        <h2 style="text-align:center; color:var(--arag-yellow);">Info</h2>
        <div id="info-container"></div>
    </div>

    <!-- 7. –î–û–ö–£–ú–ï–ù–¢–´ -->
    <div id="screen-docs" class="screen hidden">
        <h2 id="docs-title" style="text-align:center; color:var(--arag-yellow);"></h2>
        
        <!-- –°–µ–∫—Ü–∏—è 1: –ó–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="doc-section">
            <div class="doc-header" id="docs-header-user"></div>
            <div id="user-docs-list"></div>
            <button class="add-doc-btn" onclick="attachFile()">
                <span style="font-size:20px">+</span> <span id="btn-add-doc">–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</span>
            </button>
        </div>

        <!-- –°–µ–∫—Ü–∏—è 2: –î–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ -->
        <div class="doc-section">
            <div class="doc-header" id="docs-header-agency"></div>
            <div id="agency-docs-list">
                <!-- –ò–º–∏—Ç–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
                <div class="doc-item"><span class="doc-icon">üìÑ</span><span class="doc-name">Versicherungspolice Nr. 83291</span></div>
                <div class="doc-item"><span class="doc-icon">üìÑ</span><span class="doc-name">Allgemeine Bedingungen (AGB)</span></div>
            </div>
        </div>
    </div>

    <!-- 8. PARTNERS -->
    <div id="screen-partners" class="screen hidden">
        <h2 id="partners-title" style="text-align:center; color:var(--arag-yellow);"></h2>
        <div id="partners-list" style="color: #ccc; font-size: 14px; text-align: center; margin-top: 20px;">
            <!-- Placeholder -->
        </div>
    </div>

    <script>
        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
        // –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –°–°–´–õ–ö–£ –ò–ó GOOGLE APPS SCRIPT (Web App URL)
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyA8eQs1l-AC1HA-xDTl-NqjT6QIb2JF5f0ED0WSIVh7FpUcbpzH62oeg6y5tiHzrQbUg/exec"; 
        // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

        let lang = 'ru';
        const agentPhone = "4915257266255";
        let userData = { name: "", surname: "", phone: "", email: "" };
        let userUploads = []; // –°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∞–π–ª–æ–≤

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Google Sheets (—Ç–æ–ª—å–∫–æ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —è–∑—ã–∫)
        function sendToSheet() {
            if (!GOOGLE_SCRIPT_URL) return; 
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
            const payload = {
                name: userData.name,
                surname: userData.surname,
                email: userData.email,
                phone: userData.phone,
                lang: lang
            };
            
            fetch(GOOGLE_SCRIPT_URL, {
                method: "POST",
                mode: "no-cors",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            }).then(() => console.log("Sent to sheet"))
              .catch(err => console.error("Sheet error", err));
        }

        const content = {
            ru: {
                consentTitle: "–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
                consentBtn: "–ü—Ä–∏–Ω—è—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
                consentFooter: "–ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏.",
                items: [
                    {i:"‚öñÔ∏è", t:"–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å", d:"–î–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–±—â–µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞. –û–Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–º–æ—â—å –∞–¥–≤–æ–∫–∞—Ç–∞ (Rechtsanwalt)."},
                    {i:"üîí", t:"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å", d:"–í–∞—à–∏ –¥–∏–∞–ª–æ–≥–∏ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –í–ª–∞–¥–µ–ª—å—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∞—à–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–§–ò–û, Email, —Ç–µ–ª–µ—Ñ–æ–Ω)."},
                    {i:"üì¢", t:"–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Å–≤—è–∑—å", d:"–ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ —Å–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–µ–∫–ª–∞–º–Ω–æ-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ (–≤–∫–ª—é—á–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö)."},
                    {i:"üì®", t:"–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö", d:"–ü—Ä–∏ –≤–∞—à–µ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —Å–≤—è–∑—å —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤—ã–º –∞–≥–µ–Ω—Ç–æ–º, –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏."}
                ],
                regHeader: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
                sharePhone: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
                menu: ["–í—ã–±—Ä–∞—Ç—å —Å—Ç—Ä–∞—Ö–æ–≤–∫—É", "–°–≤—è–∑–∞—Ç—å—Å—è", "–£—Å–ª–æ–≤–∏—è", "–ü–∞—Ä—Ç–Ω–µ—Ä—ã"],
                docs: "–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã",
                promo: { t:"–ê–∫—Ü–∏—è!", d:"–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞—É–¥–∏—Ç –≤–∞—à–∏—Ö —Å—Ç—Ä–∞—Ö–æ–≤–æ–∫.", b1:"–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ", b2:"–Ø –ø–æ–¥—É–º–∞—é" },
                insTitle: "–í—ã–±—Ä–∞—Ç—å —Å—Ç—Ä–∞—Ö–æ–≤–∫—É",
                insBtn: "–£–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ",
                catNames: [
                    "1. –ü—Ä–∞–≤–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ (Rechtsschutz)", 
                    "2. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (Haftpflicht)", 
                    "3. –ò–º—É—â–µ—Å—Ç–≤–æ –∏ –¥–æ–º", 
                    "4. –ó–¥–æ—Ä–æ–≤—å–µ (Kranken)", 
                    "5. –ù–µ—Å—á–∞—Å—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏ (Unfall)", 
                    "6. –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è (Reise)", 
                    "7. –ë–∏–∑–Ω–µ—Å (Gewerbe)", 
                    "8. –ü–∞–∫–µ—Ç—ã"
                ],
                impressum: `–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: Heidt & Robers (ARAG Generalagentur) Neustra√üe 15 48703 Stadtlohn
–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –¢–µ–ª–µ—Ñ–æ–Ω: +49 2563 2095008 Email: info@heidt-robers.de
–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏: –ü–µ—Ç–µ—Ä –•–∞–π–¥—Ç, –ö–∞–π –†–æ–±–µ—Ä—Å
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: –†–µ–µ—Å—Ç—Ä —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ (www.vermittlerregister.info): –†–µ–≥. –Ω–æ–º–µ—Ä (Peter Heidt): D-5A46-C9OIB-32 –†–µ–≥. –Ω–æ–º–µ—Ä (Kai Robers): D-46XW-V7V8V-53
–ö–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω—ã–π –æ—Ä–≥–∞–Ω: –¢–æ—Ä–≥–æ–≤–æ-–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –ø–∞–ª–∞—Ç–∞ (IHK) Nord Westfalen, M√ºnster.
–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å: –°—Ç—Ä–∞—Ö–æ–≤–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º —Å–æ–≥–ª–∞—Å–Ω–æ ¬ß 34d Abs. 1 GewO (–ì–µ—Ä–º–∞–Ω–∏—è).`,
                privacy: `1. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ: Heidt & Robers, Neustra√üe 15, 48703 Stadtlohn.
2. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –§–ò–û, Email –∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ü—Ä–∞–≤–æ–≤–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ: —Å—Ç. 6 –∞–±–∑. 1 –ø. a (—Å–æ–≥–ª–∞—Å–∏–µ) GDPR.
3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ: –í–∞—à–∏ —á–∞—Ç—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –∏–º–µ–µ—Ç –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø–∞ –±–µ–∑ –≤–∞—à–µ–≥–æ –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–æ–º–æ—â—å –∞–≥–µ–Ω—Ç–∞.
4. –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω–æ-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ Heidt & Robers. –î–∞–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —É—Å–ª–æ–≤–∏–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.
5. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö: –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ WhatsApp) —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–≤—è–∑–∏ —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤—ã–º –∞–≥–µ–Ω—Ç–æ–º.
6. –í–∞—à–∏ –ø—Ä–∞–≤–∞: –í—ã –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–æ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏: info@heidt-robers.de.`,
                docsScreen: { t:"–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã", u:"–í–∞—à–∏ –∑–∞–≥—Ä—É–∑–∫–∏", a:"–î–æ–∫—É–º–µ–Ω—Ç—ã Heidt & Robers", add:"–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª" }
            },
            de: {
                consentTitle: "Wichtige Informationen",
                consentBtn: "Akzeptieren und fortfahren",
                consentFooter: "Mit dem Klick akzeptieren Sie die Bedingungen.",
                items: [
                    {i:"‚öñÔ∏è", t:"Rechtlicher Status", d:"Diese App dient ausschlie√ülich der allgemeinen Rechtsinformation. Sie stellt keine Rechtsberatung dar und ersetzt nicht die individuelle Beratung durch einen zugelassenen Rechtsanwalt."},
                    {i:"üîí", t:"Datenschutz", d:"Ihre Chat-Verl√§ufe werden lokal auf Ihrem Endger√§t gespeichert. An den Betreiber der App werden lediglich Ihre Registrierungsdaten (Name, E-Mail, Telefonnummer) √ºbermittelt."},
                    {i:"üì¢", t:"Marketing-Einwilligung", d:"Mit der Nutzung der App erkl√§ren Sie sich damit einverstanden, werbliche und informative Mitteilungen (u.a. zu Versicherungsprodukten) zu erhalten."},
                    {i:"üì®", t:"Daten√ºbermittlung", d:"Falls Sie eine Kontaktaufnahme mit einem Versicherungsvermittler anfordern, werden die relevanten Falldaten zur Bearbeitung an diesen weitergeleitet."}
                ],
                regHeader: "Registrierung",
                sharePhone: "Telefonnummer teilen",
                menu: ["Versicherung", "Kontakt", "Bedingungen", "Partner"],
                docs: "Meine Dokumente",
                promo: { t:"Aktion!", d:"Kostenloser Versicherungscheck.", b1:"Mehr erfahren", b2:"Ich √ºberlege noch" },
                insTitle: "Versicherung w√§hlen",
                insBtn: "Mehr erfahren",
                catNames: [
                    "1. Rechtsschutzversicherung", 
                    "2. Haftpflicht", 
                    "3. Haus & Wohnen", 
                    "4. Gesundheit & Vorsorge", 
                    "5. Unfallversicherung", 
                    "6. Reiseversicherung", 
                    "7. Gewerbeversicherung", 
                    "8. Kombi-Pakete"
                ],
                impressum: `Anbieter: Heidt & Robers (ARAG Generalagentur) Neustra√üe 15 48703 Stadtlohn
Kontakt: Telefon: +49 2563 2095008 E-Mail: info@heidt-robers.de Website: www.heidt-robers.de
Vertreten durch: Peter Heidt, Kai Robers
Registereintrag: Versicherungsvermittlerregister (www.vermittlerregister.info): Register-Nr. (Peter Heidt): D-5A46-C9OIB-32 Register-Nr. (Kai Robers): D-46XW-V7V8V-53
Zust√§ndige Beh√∂rde: Industrie- und Handelskammer Nord Westfalen, Sentmaringer Weg 61, 48151 M√ºnster.
Berufsbezeichnung: Versicherungsvertreter mit Erlaubnis nach ¬ß 34d Abs. 1 GewO (Bundesrepublik Deutschland).
Schlichtungsstelle: Versicherungsombudsmann e.V., Postfach 08 06 32, 10006 Berlin.`,
                privacy: `1. Verantwortlicher: Heidt & Robers, Neustra√üe 15, 48703 Stadtlohn.
2. Datenerhebung: Wir erheben bei der Registrierung Name, E-Mail und Telefonnummer. Rechtsgrundlage: Art. 6 Abs. 1 lit. a (Einwilligung).
3. Lokale Speicherung: Die Inhalte Ihrer Chat-Verl√§ufe werden lokal auf Ihrem Endger√§t gespeichert. Der Anbieter hat keinen Zugriff auf diese Daten, es sei denn, Sie fordern explizit eine Beratung an.
4. Werbliche Nutzung: Mit der Nutzung der App willigen Sie ein, werbliche Informationen der Agentur Heidt & Robers zu erhalten. Diese Einwilligung ist Voraussetzung f√ºr die Nutzung der App.
5. Weitergabe an Dritte: Eine Daten√ºbermittlung (z.B. an WhatsApp) erfolgt nur nach Ihrer aktiven Handlung, um einen Agenten zu kontaktieren.
6. Ihre Rechte: Sie haben das Recht auf Auskunft, Berichtigung und L√∂schung Ihrer Daten gem√§√ü DSGVO.`,
                docsScreen: { t:"Meine Dokumente", u:"Ihre Uploads", a:"Dokumente von Heidt & Robers", add:"Datei hinzuf√ºgen" }
            }
        };

        const insuranceData = [
            // 1. Rechtsschutz
            {cat: 1, i:'‚öñÔ∏è', ru: {t:'Privat-Rechtsschutz', d:'–ó–∞—â–∏—Ç–∞ –≤ –ª–∏—á–Ω—ã—Ö —Å–ø–æ—Ä–∞—Ö: –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –ø–æ–∫—É–ø–∫–∏, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.'}, de: {t:'Privat-Rechtsschutz', d:'Schutz bei privaten Streitigkeiten (Vertr√§ge, K√§ufe).'}},
            {cat: 1, i:'üíº', ru: {t:'Berufs-Rechtsschutz', d:'–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º, —É–≤–æ–ª—å–Ω–µ–Ω–∏–µ, –∑–∞—Ä–ø–ª–∞—Ç–∞.'}, de: {t:'Berufs-Rechtsschutz', d:'Hilfe bei Konflikten mit dem Arbeitgeber (K√ºndigung, Gehalt).'}},
            {cat: 1, i:'üöó', ru: {t:'Verkehrs-Rechtsschutz', d:'–ó–∞—â–∏—Ç–∞ –ø—Ä–∏ –î–¢–ü, —à—Ç—Ä–∞—Ñ–∞—Ö, –ª–∏—à–µ–Ω–∏–∏ –ø—Ä–∞–≤, —Å–ø–æ—Ä–∞—Ö —Å–æ —Å—Ç—Ä–∞—Ö–æ–≤–æ–π.'}, de: {t:'Verkehrs-Rechtsschutz', d:'Schutz bei Unf√§llen, Bu√ügeldern und F√ºhrerscheinentzug.'}},
            {cat: 1, i:'üè†', ru: {t:'Wohn-Rechtsschutz', d:'–°–ø–æ—Ä—ã —Å –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–º –∏–ª–∏ —Å–æ—Å–µ–¥—è–º–∏.'}, de: {t:'Wohn-Rechtsschutz', d:'Schutz f√ºr Mieter und Eigent√ºmer bei Wohnungsstreitigkeiten.'}},
            {cat: 1, i:'üîë', ru: {t:'Vermieter-Rechtsschutz', d:'–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö —Å –∂–∏–ª—å—Ü–∞–º–∏.'}, de: {t:'Vermieter-Rechtsschutz', d:'Rechtliche Unterst√ºtzung f√ºr Vermieter.'}},
            {cat: 1, i:'üëÆ', ru: {t:'Straf-Rechtsschutz', d:'–†–∞—Å—Ö–æ–¥—ã –ø—Ä–∏ –æ–±–≤–∏–Ω–µ–Ω–∏—è—Ö –ø–æ –Ω–µ–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏.'}, de: {t:'Straf-Rechtsschutz', d:'Kostenschutz bei Vorw√ºrfen fahrl√§ssiger Straftaten.'}},
            {cat: 1, i:'üë®‚Äçüë©‚Äçüëß', ru: {t:'Familien-Rechtsschutz', d:'–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –¥–ª—è —Å–µ–º—å–∏ –∏ –¥–µ—Ç–µ–π.'}, de: {t:'Familien-Rechtsschutz', d:'Umfassender Schutz f√ºr die ganze Familie.'}},

            // 2. Haftpflicht
            {cat: 2, i:'üõ°Ô∏è', ru: {t:'Privathaftpflicht', d:'–ü–æ–∫—Ä—ã–≤–∞–µ—Ç —É—â–µ—Ä–±, –ø—Ä–∏—á–∏–Ω–µ–Ω–Ω—ã–π —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.'}, de: {t:'Privathaftpflicht', d:'Deckt Sch√§den ab, die Sie Dritten zuf√ºgen.'}},
            {cat: 2, i:'üêï', ru: {t:'Hundehalter-Haftpflicht', d:'–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–æ–±–∞–∫.'}, de: {t:'Hundehalter-Haftpflicht', d:'Pflichtversicherung f√ºr Hundehalter.'}},
            {cat: 2, i:'üêé', ru: {t:'Pferdehalter-Haftpflicht', d:'–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ª–æ—à–∞–¥–µ–π.'}, de: {t:'Pferdehalter-Haftpflicht', d:'Haftpflichtschutz f√ºr Pferdehalter.'}},
            {cat: 2, i:'üèóÔ∏è', ru: {t:'Bauherren-Haftpflicht', d:'–ó–∞—â–∏—Ç–∞ –ø—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ –∏–ª–∏ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–æ–º–∞.'}, de: {t:'Bauherren-Haftpflicht', d:'Schutz w√§hrend der Bauphase.'}},
            {cat: 2, i:'üíß', ru: {t:'Gew√§sserschaden-Haftpflicht', d:'–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏ —É—â–µ—Ä–±–µ —Å—Ä–µ–¥–µ (—É—Ç–µ—á–∫–∞ –º–∞—Å–ª–∞).'}, de: {t:'Gew√§sserschaden-Haftpflicht', d:'Schutz bei Umweltsch√§den (z.B. √ñltank).'}},

            // 3. –ò–º—É—â–µ—Å—Ç–≤–æ
            {cat: 3, i:'üõãÔ∏è', ru: {t:'Hausratversicherung', d:'–ò–º—É—â–µ—Å—Ç–≤–æ –≤ –¥–æ–º–µ (–∫—Ä–∞–∂–∞, –ø–æ–∂–∞—Ä, –≤–æ–¥–∞).'}, de: {t:'Hausratversicherung', d:'Schutz f√ºr Inventar bei Diebstahl, Feuer, Wasser.'}},
            {cat: 3, i:'ü™ü', ru: {t:'Glasversicherung', d:'–ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π —Å—Ç–µ–∫–ª–∞ –∏ –≤–∏—Ç—Ä–∞–∂–µ–π.'}, de: {t:'Glasversicherung', d:'Bruchsch√§den an Fenster- und T√ºrverglasungen.'}},
            {cat: 3, i:'üö≤', ru: {t:'Fahrradversicherung', d:'–ó–∞—â–∏—Ç–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞ –æ—Ç –∫—Ä–∞–∂–∏ –∏ –ø–æ–ª–æ–º–æ–∫.'}, de: {t:'Fahrradversicherung', d:'Diebstahl- und Reparaturschutz f√ºr Fahrr√§der.'}},
            {cat: 3, i:'üì±', ru: {t:'Elektronikversicherung', d:'–î–æ–ø. –∑–∞—â–∏—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏.'}, de: {t:'Elektronikversicherung', d:'Zusatzschutz f√ºr teure Elektronikger√§te.'}},

            // 4. –ó–¥–æ—Ä–æ–≤—å–µ
            {cat: 4, i:'üè•', ru: {t:'Private Krankenversicherung (PKV)', d:'–ß–∞—Å—Ç–Ω–∞—è –º–µ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º.'}, de: {t:'Private Krankenversicherung', d:'Umfassender privater Gesundheitsschutz.'}},
            {cat: 4, i:'ü¶∑', ru: {t:'Zahnzusatzversicherung', d:'–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏—è –∏ –∏–º–ø–ª–∞–Ω—Ç—ã.'}, de: {t:'Zahnzusatzversicherung', d:'Zusatzschutz f√ºr Zahnersatz und Behandlung.'}},
            {cat: 4, i:'üíä', ru: {t:'Ambulante Zusatzversicherung', d:'–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∞–º–±—É–ª–∞—Ç–æ—Ä–Ω–æ–µ –ª–µ—á–µ–Ω–∏–µ.'}, de: {t:'Ambulante Zusatzversicherung', d:'Bessere Leistungen beim Arztbesuch.'}},
            {cat: 4, i:'üõèÔ∏è', ru: {t:'Station√§re Zusatzversicherung', d:'–õ—É—á—à–∏–µ —É—Å–ª–æ–≤–∏—è –≤ –±–æ–ª—å–Ω–∏—Ü–µ (1-–º–µ—Å—Ç–Ω–∞—è –ø–∞–ª–∞—Ç–∞).'}, de: {t:'Station√§re Zusatzversicherung', d:'Chefarztbehandlung und Einzelzimmer.'}},
            {cat: 4, i:'üë¥', ru: {t:'Pflegezusatzversicherung', d:'–î–æ–ø. –∑–∞—â–∏—Ç–∞ –Ω–∞ —Å–ª—É—á–∞–π —É—Ö–æ–¥–∞.'}, de: {t:'Pflegezusatzversicherung', d:'Finanzielle Hilfe im Pflegefall.'}},
            {cat: 4, i:'üí∂', ru: {t:'Krankentagegeld', d:'–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ—Ç–µ—Ä–∏ –¥–æ—Ö–æ–¥–∞ –ø—Ä–∏ –±–æ–ª–µ–∑–Ω–∏.'}, de: {t:'Krankentagegeld', d:'Ausgleich von Verdienstausfall bei Krankheit.'}},
            {cat: 4, i:'üåç', ru: {t:'Auslandsreise-Kranken', d:'–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π.'}, de: {t:'Auslandsreise-Kranken', d:'Krankenschutz im Ausland.'}},

            // 5. Unfall
            {cat: 5, i:'üöë', ru: {t:'Unfallversicherung', d:'–í—ã–ø–ª–∞—Ç—ã –ø—Ä–∏ —Ç—Ä–∞–≤–º–∞—Ö –∏ –∏–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏.'}, de: {t:'Unfallversicherung', d:'Finanzielle Sicherheit nach Unf√§llen.'}},

            // 6. Reise
            {cat: 6, i:'‚ùå', ru: {t:'Reiser√ºcktrittsversicherung', d:'–í–æ–∑–º–µ—â–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –ø–æ–µ–∑–¥–∫–∏.'}, de: {t:'Reiser√ºcktrittsversicherung', d:'Kostenerstattung bei Reisestornierung.'}},
            {cat: 6, i:'üèñÔ∏è', ru: {t:'Reiseabbruchversicherung', d:'–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è.'}, de: {t:'Reiseabbruchversicherung', d:'Schutz bei vorzeitigem Reiseabbruch.'}},
            {cat: 6, i:'üóìÔ∏è', ru: {t:'Jahresreiseversicherung', d:'–ì–æ–¥–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–µ–∑–¥–æ–∫.'}, de: {t:'Jahresreiseversicherung', d:'Dauerhafter Reiseschutz f√ºr das ganze Jahr.'}},

            // 7. Gewerbe
            {cat: 7, i:'üè¢', ru: {t:'Firmen-Rechtsschutz', d:'–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π.'}, de: {t:'Firmen-Rechtsschutz', d:'Rechtsschutz f√ºr Unternehmen und Selbstst√§ndige.'}},
            {cat: 7, i:'ü§ù', ru: {t:'Gewerbe-Haftpflicht', d:'–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å–∞ –∑–∞ —É—â–µ—Ä–±.'}, de: {t:'Gewerbe-Haftpflicht', d:'Schutz bei Sch√§den durch betriebliche T√§tigkeit.'}},
            {cat: 7, i:'üï¥Ô∏è', ru: {t:'D&O Versicherung', d:'–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π.'}, de: {t:'D&O Versicherung', d:'Verm√∂gensschadenhaftpflicht f√ºr Manager.'}},
            {cat: 7, i:'üè™', ru: {t:'Vermieter-Gewerbe', d:'–ó–∞—â–∏—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.'}, de: {t:'Vermieter-Gewerbe', d:'Schutz f√ºr Vermieter von Gewerbeobjekten.'}},

            // 8. Pakete
            {cat: 8, i:'üì¶', ru: {t:'Recht & Heim', d:'–ö–æ–º–ø–ª–µ–∫—Å: Rechtsschutz + Haftpflicht + Hausrat.'}, de: {t:'Recht & Heim', d:'Kombi-Paket: Recht, Haftpflicht, Hausrat.'}},
            {cat: 8, i:'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', ru: {t:'Familien-Pakete', d:'–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏.'}, de: {t:'Familien-Pakete', d:'Rundum-Schutz f√ºr die ganze Familie.'}}
        ];

        window.onload = function() { loadUser(); };

        function setLang(l) {
            lang = l;
            const c = content[l];
            document.getElementById('consent-header').innerText = c.consentTitle;
            document.getElementById('consent-footer').innerText = c.consentFooter;
            document.getElementById('btn-consent-ok').innerText = c.consentBtn;
            
            const cl = document.getElementById('consent-list');
            cl.innerHTML = '';
            c.items.forEach((item, idx) => {
                const isRev = idx % 2 !== 0; 
                cl.innerHTML += `<div class="zig-card ${isRev ? 'reverse' : ''}"><div class="card-visual">${item.i}</div><div class="card-text"><h4>${item.t}</h4><p>${item.d}</p></div></div>`;
            });

            document.getElementById('menu-ins').innerText = c.menu[0];
            document.getElementById('menu-wa').innerText = c.menu[1];
            document.getElementById('menu-info').innerText = c.menu[2];
            document.getElementById('menu-partners').innerText = c.menu[3];
            document.getElementById('btn-docs').innerText = c.docs;
            
            // –ü—Ä–æ–º–æ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º
            document.querySelector('.promo-title').innerText = c.promo.t;
            document.querySelector('.promo-text').innerText = c.promo.d;
            document.getElementById('promo-btn-1').innerText = c.promo.b1;
            document.getElementById('promo-btn-2').innerText = c.promo.b2;

            switchScreen('screen-consent');
        }

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
            const btn = document.getElementById('back-btn');
            if (id === 'screen-language') btn.classList.add('hidden');
            else if (id === 'screen-chat') { btn.classList.add('hidden'); checkPromo(); }
            else btn.classList.remove('hidden');
        }

        function goBack() {
            if (!document.getElementById('screen-ins').classList.contains('hidden')) switchScreen('screen-chat');
            else if (!document.getElementById('screen-docs').classList.contains('hidden')) switchScreen('screen-chat');
            else if (!document.getElementById('screen-partners').classList.contains('hidden')) switchScreen('screen-chat');
            else if (!document.getElementById('screen-info').classList.contains('hidden')) switchScreen('screen-chat');
            else if (!document.getElementById('screen-reg').classList.contains('hidden')) switchScreen('screen-consent');
            else if (!document.getElementById('screen-consent').classList.contains('hidden')) switchScreen('screen-language');
        }

        function goReg() {
            document.getElementById('reg-header').innerText = content[lang].regHeader;
            // REMOVED ERROR LINE HERE
            switchScreen('screen-reg');
        }

        function simSharePhone() {
            document.getElementById('inp-phone').value = "+49 176 12345678";
            alert("–ù–æ–º–µ—Ä –ø–æ–ª—É—á–µ–Ω!");
        }

        function validateEmail(email) { return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email); }

        function finishReg() {
            const surname = document.getElementById('inp-surname').value.trim();
            const name = document.getElementById('inp-name').value.trim();
            const email = document.getElementById('inp-email').value.trim();
            const phone = document.getElementById('inp-phone').value.trim();

            if(phone === "" || surname === "" || name === "" || email === "") return alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è / Bitte alle Felder ausf√ºllen");
            if(!validateEmail(email)) return alert("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Email / Ung√ºltige E-Mail");
            
            userData = { name, surname, email, phone };
            
            // –û–¢–ü–†–ê–í–õ–Ø–ï–ú –í GOOGLE –¢–ê–ë–õ–ò–¶–£ –¢–û–õ–¨–ö–û –û–î–ò–ù –†–ê–ó
            sendToSheet();
            
            saveUser();
            switchScreen('screen-chat');
            
            const welcomeLexiMsg = lang === 'ru' 
                ? `–ü—Ä–∏–≤–µ—Ç, ${userData.name}! üëã<br><br>–Ø Lexi ‚Äî —Ç–≤–æ–π –ª–∏—á–Ω—ã–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—é –∏ –ø—Ä–∞–≤–æ–≤—ã–º –≤–æ–ø—Ä–æ—Å–∞–º.<br>–ú–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–¥–µ–ª–∞—Ç—å —Å–ª–æ–∂–Ω–æ–µ –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–º–æ—á—å —Ç–µ–±–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∫–∞–∂–¥–æ–º —Ä–µ—à–µ–Ω–∏–∏.<br>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª ¬´–ü–∞—Ä—Ç–Ω—ë—Ä—ã¬ª ‚Äî —Ç–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ Heidt & Robers.<br>–Ø –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏. –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏, —á—Ç–æ —Ç–µ–±—è –≤–æ–ª–Ω—É–µ—Ç.` 
                : `Hallo ${userData.name}! üëã<br><br>Ich bin Lexi ‚Äî dein pers√∂nlicher digitaler Assistent f√ºr Versicherungs- und Rechtsfragen.<br>Meine Aufgabe ist es, Komplexes einfach zu machen und dir Sicherheit bei jeder Entscheidung zu geben.<br>Schau dir unbedingt den Bereich ‚ÄûPartner‚Äú an ‚Äî dort gibt es exklusive Angebote und Sonderkonditionen f√ºr Kunden von Heidt & Robers.<br>Ich bin immer f√ºr dich da. Schreib mir einfach, was dich besch√§ftigt.`;
            
            addBotMsg(welcomeLexiMsg);
        }

        function saveUser() {
            try {
                localStorage.setItem('hr_user', JSON.stringify(userData));
                localStorage.setItem('hr_lang', lang);
            } catch(e) {
                console.warn("Storage access denied", e);
            }
        }

        function loadUser() {
            try {
                const savedUser = localStorage.getItem('hr_user');
                const savedLang = localStorage.getItem('hr_lang');
                if (savedUser && savedLang) {
                    userData = JSON.parse(savedUser);
                    lang = savedLang;
                    setLang(lang); // Load text resources
                    document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
                    document.getElementById('screen-chat').classList.remove('hidden');
                    
                    // –ü–†–ò–í–ï–¢–°–¢–í–ò–ï –î–õ–Ø –í–ï–†–ù–£–í–®–ò–•–°–Ø (–ë–µ–∑ –¥–ª–∏–Ω–Ω–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞)
                    const welcomeMsg = lang === 'ru' 
                    ? `–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, ${userData.name}! –†–∞–¥—ã –≤–∞—Å –≤–∏–¥–µ—Ç—å. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å —Å–µ–≥–æ–¥–Ω—è?` 
                    : `Willkommen zur√ºck, ${userData.name}! Sch√∂n, Sie zu sehen. Wie kann ich heute helfen?`;
                    addBotMsg(welcomeMsg);
                }
            } catch(e) {
                console.warn("Storage access denied or empty", e);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ò–ò –≤–º–µ—Å—Ç–µ —Å –∞–≤–∞—Ç–∞—Ä–æ–º Lexi
        function addBotMsg(txt) {
            const row = document.createElement('div');
            row.className = 'bot-msg-row';
            
            // –ê–≤–∞—Ç–∞—Ä Lexi
            const avatar = document.createElement('img');
            avatar.className = 'bot-avatar';
            avatar.src = 'lexi.png'; // –£–ë–ï–î–ò–¢–ï–°–¨, –ß–¢–û –§–ê–ô–õ lexi.png –ï–°–¢–¨ –í –ü–ê–ü–ö–ï
            avatar.alt = 'Lexi';
            avatar.onerror = function() {
                // –ï—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞ lexi.png –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, —Ä–∏—Å—É–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –∂–µ–ª—Ç—ã–π –∫—Ä—É–≥ —Å "L"
                this.onerror = null;
                this.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" fill="%23FFD700"/><text x="50" y="68" font-family="Arial" font-weight="bold" font-size="50" fill="black" text-anchor="middle">L</text></svg>';
            };

            const msgDiv = document.createElement('div');
            msgDiv.className = 'msg bot';
            msgDiv.innerHTML = txt;
            
            row.appendChild(avatar);
            row.appendChild(msgDiv);

            const chatBox = document.getElementById('chat-box');
            chatBox.appendChild(row);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
            chatBox.scrollTop = chatBox.scrollHeight;
        }

                async function sendMsg() {
    const input = document.getElementById('chat-inp');
    const message = input.value.trim();
    if (!message) return;

    const chatBox = document.getElementById('chat-box');

    const userMsg = document.createElement('div');
    userMsg.className = 'msg user';
    userMsg.innerText = message;
    chatBox.appendChild(userMsg);
    chatBox.scrollTop = chatBox.scrollHeight;

    input.value = '';

    const loadingRow = document.createElement('div');
    loadingRow.className = 'bot-msg-row';
    loadingRow.innerHTML = `
        <div class="msg bot">
            ${lang === 'ru' ? "–ê–Ω–∞–ª–∏–∑–∏—Ä—É—é..." : "Analysiere..."}
        </div>
    `;
    chatBox.appendChild(loadingRow);
    chatBox.scrollTop = chatBox.scrollHeight;

    try {
  const API_URL = location.protocol === "file:"
    ? "http://localhost:3000/chat"
    : "/chat";

  const response = await fetch(API_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message })
  });

  const data = await response.json();

  loadingRow.remove();
  addBotMsg(data.reply);
} catch (error) {
  console.error(error);
  loadingRow.remove();
  addBotMsg("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è");
}
        }
        
         function attachFile() { document.getElementById('hidden-file-input').click(); }
        
        function handleFileSelect(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                
                // 1. –î–æ–±–∞–≤–ª—è–µ–º –≤ "–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã"
                userUploads.push(file.name);
                renderDocs(); // –û–±–Ω–æ–≤–ª—è–µ–º —ç–∫—Ä–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
                
                // 2. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ —á–∞—Ç–µ
                const d = document.createElement('div'); 
                d.className = 'msg user'; 
                d.innerHTML = `<span class="file-msg">üìé ${file.name}</span>`;
                document.getElementById('chat-box').appendChild(d);
                
                // 3. –†–µ–∞–∫—Ü–∏—è –±–æ—Ç–∞
                setTimeout(() => addBotMsg(lang==='ru' ? `–Ø –ø–æ–ª—É—á–∏–ª —Ñ–∞–π–ª "${file.name}". –°–æ—Ö—Ä–∞–Ω–∏–ª –µ–≥–æ –≤ –ø–∞–ø–∫—É "–ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã".` : `Datei "${file.name}" empfangen.`), 800);
            }
        }

        function voiceInput() {
            if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
                alert("–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Chrome –∏–ª–∏ Safari.");
                return;
            }
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = new SpeechRecognition();
            
            recognition.lang = lang === 'ru' ? 'ru-RU' : 'de-DE';
            recognition.interimResults = false;
            
            const btn = document.getElementById('mic-btn');
            btn.style.color = '#ff4444'; // –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏
            
            recognition.start();

            recognition.onresult = (event) => {
                const text = event.results[0][0].transcript;
                document.getElementById('chat-inp').value = text;
                btn.style.color = '#888';
            };
            
            recognition.onerror = (e) => {
                btn.style.color = '#888';
                alert("–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: " + e.error);
            };
            
            recognition.onend = () => { btn.style.color = '#888'; };
        }

        function showDocs() {
            const t = content[lang].docsScreen;
            document.getElementById('docs-title').innerText = t.t;
            document.getElementById('docs-header-user').innerText = t.u;
            document.getElementById('docs-header-agency').innerText = t.a;
            document.getElementById('btn-add-doc').innerText = t.add;
            renderDocs();
            switchScreen('screen-docs');
        }

        function renderDocs() {
            const list = document.getElementById('user-docs-list');
            list.innerHTML = '';
            if (userUploads.length === 0) {
                list.innerHTML = `<div style="text-align:center; color:#666; padding:10px; font-style:italic;">–ù–µ—Ç –∑–∞–≥—Ä—É–∑–æ–∫ / Keine Uploads</div>`;
            } else {
                userUploads.forEach(docName => {
                    list.innerHTML += `<div class="doc-item"><span class="doc-icon">üìé</span><span class="doc-name">${docName}</span></div>`;
                });
            }
        }

        function showPartners() {
            document.getElementById('partners-title').innerText = content[lang].menu[3]; // "–ü–∞—Ä—Ç–Ω–µ—Ä—ã" is at index 3
            document.getElementById('partners-list').innerHTML = lang === 'ru' 
                ? "<p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ–∑–∂–µ.</p>" 
                : "<p>Partnerinformationen werden hier sp√§ter erscheinen.</p>";
            switchScreen('screen-partners');
        }

        function showInsurances() {
            document.getElementById('ins-head').innerText = content[lang].insTitle;
            const list = document.getElementById('ins-list');
            list.innerHTML = '';
            
            [1, 2, 3, 4, 5, 6, 7, 8].forEach(catId => {
                const headerText = content[lang].catNames[catId - 1];
                list.innerHTML += `<div class="cat-header">${headerText}</div>`;
                const catItems = insuranceData.filter(i => i.cat === catId);
                catItems.forEach((ins, idx) => {
                    const data = lang === 'ru' ? ins.ru : ins.de;
                    const isRev = idx % 2 !== 0; 
                    list.innerHTML += `<div class="zig-card ${isRev ? 'reverse' : ''}"><div class="card-visual">${ins.i}</div><div class="card-text"><h4>${data.t}</h4><p>${data.d}</p><button class="btn-wa-card" onclick="waIns('${data.t}')">üí¨ ${content[lang].insBtn}</button></div></div>`;
                });
            });
            switchScreen('screen-ins');
        }

        function waIns(insName) {
            let msg = lang === 'ru' ? `–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –º–µ–Ω—è –∑–æ–≤—É—Ç ${userData.name} ${userData.surname} –º–µ–Ω—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ ${insName}` : `Guten Tag, mein Name ist ${userData.name} ${userData.surname}, ich interessiere mich f√ºr die Versicherung: ${insName}`;
            
            // –ú—ã –±–æ–ª—å—à–µ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–ª–∏–∫–∏ –ø–æ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞–º –≤ —Ç–∞–±–ª–∏—Ü—É, —Ç–∞–∫ –∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏ —Ç–æ–ª—å–∫–æ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            
            window.open(`https://wa.me/${agentPhone}?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function waAgent() {
            window.open(`https://wa.me/${agentPhone}?text=Hilfe`, '_blank');
        }
        
        function showInfo() {
            const impTitle = lang === 'ru' ? '–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Impressum)' : 'Impressum';
            const privTitle = lang === 'ru' ? '–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏' : 'Datenschutzerkl√§rung';
            document.getElementById('info-container').innerHTML = `<div class="info-section"><div class="info-label">${impTitle}</div><div class="info-content">${content[lang].impressum}</div></div><div class="info-section"><div class="info-label">${privTitle}</div><div class="info-content">${content[lang].privacy}</div></div>`;
            switchScreen('screen-info');
        }

        function checkPromo() {
            try {
                if (!sessionStorage.getItem('promoShown')) {
                    setTimeout(() => {
                        document.getElementById('promo-modal').classList.remove('hidden');
                        sessionStorage.setItem('promoShown', 'true');
                    }, 1000);
                }
            } catch(e) {
                setTimeout(() => {
                    document.getElementById('promo-modal').classList.remove('hidden');
                }, 1000);
            }
        }
        function closePromo() { document.getElementById('promo-modal').classList.add('hidden'); }
        function promoAction() {
            window.open(`https://wa.me/${agentPhone}?text=Promo Info`, '_blank');
            closePromo();
        }
    </script>
</body>
</html>
